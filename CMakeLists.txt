cmake_minimum_required(VERSION 3.14)
project(lab07dz VERSION 1.0.0 LANGUAGES CXX)

# Вначале загружаем Hunter
include(FetchContent)
FetchContent_Declare(
    hunter
    URL "https://github.com/cpp-pm/hunter/archive/v0.23.314.tar.gz"
    URL_HASH SHA1=a8c1ff1a9f9a8b5a7456b89b818e5aef3460f890
)
FetchContent_MakeAvailable(hunter)

# Теперь можно использовать HunterGate
include(hunter)
HunterGate(
    URL "https://github.com/cpp-pm/hunter/archive/v0.23.314.tar.gz"
    SHA1 "a8c1ff1a9f9a8b5a7456b89b818e5aef3460f890"
)

# Остальная часть вашего CMakeLists.txt
add_library(lab07dz
    src/lab07dz.cpp
    include/lab07dz/lab07dz.hpp
)

target_include_directories(lab07dz PUBLIC
    $<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>
    $<INSTALL_INTERFACE:include>
)

enable_testing()
add_executable(lab07dz_test tests/test.cpp)
target_link_libraries(lab07dz_test lab07dz)
add_test(NAME lab07dz_test COMMAND lab07dz_test)
